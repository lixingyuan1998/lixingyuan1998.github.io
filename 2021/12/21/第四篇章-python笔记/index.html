<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.8.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"width":300},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"}}</script><script src="/js/config.js"></script>
<meta name="description" content="ä¹‹å‰æ€»ç»“çš„pythonçš„ç¬”è®°ï¼Œä¹Ÿæ˜¯è‡ªå·±çš„äºŒåˆ·~ æœ€æ–°çš„è¡¥å……åœ¨åé¢ğŸ±â€ğŸš€  (12.21 æ›´æ–°) å…ˆæŒ–å‘åå¡« (12.22ï¼Œ23 æ›´æ–°) å¡«å‘">
<meta property="og:type" content="article">
<meta property="og:title" content="ç¬¬å››ç¯‡ç« -pythonç¬”è®°">
<meta property="og:url" content="http://example.com/2021/12/21/%E7%AC%AC%E5%9B%9B%E7%AF%87%E7%AB%A0-python%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="origin_star">
<meta property="og:description" content="ä¹‹å‰æ€»ç»“çš„pythonçš„ç¬”è®°ï¼Œä¹Ÿæ˜¯è‡ªå·±çš„äºŒåˆ·~ æœ€æ–°çš„è¡¥å……åœ¨åé¢ğŸ±â€ğŸš€  (12.21 æ›´æ–°) å…ˆæŒ–å‘åå¡« (12.22ï¼Œ23 æ›´æ–°) å¡«å‘">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2021/12/21/%E7%AC%AC%E5%9B%9B%E7%AF%87%E7%AB%A0-python%E7%AC%94%E8%AE%B0/%E8%BF%AD%E4%BB%A3%E5%99%A8.png">
<meta property="og:image" content="http://example.com/2021/12/21/%E7%AC%AC%E5%9B%9B%E7%AF%87%E7%AB%A0-python%E7%AC%94%E8%AE%B0/%E7%94%9F%E6%88%90%E5%99%A81.png">
<meta property="og:image" content="http://example.com/2021/12/21/%E7%AC%AC%E5%9B%9B%E7%AF%87%E7%AB%A0-python%E7%AC%94%E8%AE%B0/%E7%94%9F%E6%88%90%E5%99%A82.png">
<meta property="og:image" content="http://example.com/2021/12/21/%E7%AC%AC%E5%9B%9B%E7%AF%87%E7%AB%A0-python%E7%AC%94%E8%AE%B0/%E6%94%B6%E8%97%8F.png">
<meta property="article:published_time" content="2021-12-21T09:36:25.000Z">
<meta property="article:modified_time" content="2021-12-23T06:59:23.064Z">
<meta property="article:author" content="Xingyuan">
<meta property="article:tag" content="python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2021/12/21/%E7%AC%AC%E5%9B%9B%E7%AF%87%E7%AB%A0-python%E7%AC%94%E8%AE%B0/%E8%BF%AD%E4%BB%A3%E5%99%A8.png">


<link rel="canonical" href="http://example.com/2021/12/21/%E7%AC%AC%E5%9B%9B%E7%AF%87%E7%AB%A0-python%E7%AC%94%E8%AE%B0/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://example.com/2021/12/21/%E7%AC%AC%E5%9B%9B%E7%AF%87%E7%AB%A0-python%E7%AC%94%E8%AE%B0/","path":"2021/12/21/ç¬¬å››ç¯‡ç« -pythonç¬”è®°/","title":"ç¬¬å››ç¯‡ç« -pythonç¬”è®°"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>ç¬¬å››ç¯‡ç« -pythonç¬”è®° | origin_star</title>
  




  <!-- å¼•å…¥jQuery -->
  <script type="text/javascript" src="//libs.baidu.com/jquery/1.8.3/jquery.min.js"></script>
  <script type="text/javascript" src="/js/my_js/clicklove.js"></script>
  <!--åŠ¨æ€çº¿æ¡èƒŒæ™¯-->
  <!-- é›ªèŠ±ç‰¹æ•ˆ2 -->
  <script type="text/javascript" src="/js/snow2.js"></script>

  
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}</style></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>
  
	<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
	
  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">origin_star</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">xingyuan home</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li>
        <li class="menu-item menu-item-guestbook"><a href="/guestbook/" rel="section"><i class="fa fa-book fa-fw"></i>ç•™è¨€æ¿</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#python-%E4%B8%AD%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">1.</span> <span class="nav-text">python ä¸­æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#python-%E7%9A%84%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="nav-number">2.</span> <span class="nav-text">python çš„åƒåœ¾å›æ”¶æœºåˆ¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#python-%E4%B8%AD%E7%9A%84%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="nav-number">3.</span> <span class="nav-text">python ä¸­çš„å•ä¾‹æ¨¡å¼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#python-__new__-%E5%92%8C-___init___-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">4.</span> <span class="nav-text">python __new__ å’Œ ___init___ çš„åŒºåˆ«</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#python-%E4%B8%AD%E7%9A%84%E8%A3%85%E9%A5%B0%E5%99%A8%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%94%9F%E6%88%90%E5%99%A8"><span class="nav-number">5.</span> <span class="nav-text">python ä¸­çš„è£…é¥°å™¨ï¼Œè¿­ä»£å™¨ä¸ç”Ÿæˆå™¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#python-%E4%B8%AD%E7%9A%84%E5%A4%9A%E8%BF%9B%E7%A8%8B%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="nav-number">6.</span> <span class="nav-text">python ä¸­çš„å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#python-%E5%86%85%E5%AD%98%E6%B1%A0"><span class="nav-number">7.</span> <span class="nav-text">python å†…å­˜æ± </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#python-%E7%BB%8F%E5%85%B8%E4%B9%A6%E7%B1%8D"><span class="nav-number">8.</span> <span class="nav-text">python ç»å…¸ä¹¦ç±</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Xingyuan"
      src="/images/avatar_2.gif">
  <p class="site-author-name" itemprop="name">Xingyuan</p>
  <div class="site-description" itemprop="description">æ¬¢è¿æ¥åˆ°æ˜ŸåŸå°çª</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">15</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">åˆ†ç±»</span>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
	  
	  
       <div id="music163player">
            <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=450 src="//music.163.com/outchain/player?type=0&id=4900028836&auto=1&height=430"></iframe>
       </div>

    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/21/%E7%AC%AC%E5%9B%9B%E7%AF%87%E7%AB%A0-python%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar_2.gif">
      <meta itemprop="name" content="Xingyuan">
      <meta itemprop="description" content="æ¬¢è¿æ¥åˆ°æ˜ŸåŸå°çª">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="origin_star">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ç¬¬å››ç¯‡ç« -pythonç¬”è®°
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
	
	
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-12-21 17:36:25" itemprop="dateCreated datePublished" datetime="2021-12-21T17:36:25+08:00">2021-12-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-12-23 14:59:23" itemprop="dateModified" datetime="2021-12-23T14:59:23+08:00">2021-12-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">pythonç¬”è®°</span></a>
        </span>
    </span>

  
    <span id="/2021/12/21/%E7%AC%AC%E5%9B%9B%E7%AF%87%E7%AB%A0-python%E7%AC%94%E8%AE%B0/" class="post-meta-item leancloud_visitors" data-flag-title="ç¬¬å››ç¯‡ç« -pythonç¬”è®°" title="é˜…è¯»æ¬¡æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span class="leancloud-visitors-count"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>1.4k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>1 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>ä¹‹å‰æ€»ç»“çš„pythonçš„ç¬”è®°ï¼Œä¹Ÿæ˜¯è‡ªå·±çš„äºŒåˆ·~</p>
<p>æœ€æ–°çš„è¡¥å……åœ¨åé¢ğŸ±â€ğŸš€ </p>
<p>(12.21 æ›´æ–°) å…ˆæŒ–å‘åå¡«</p>
<p>(12.22ï¼Œ23 æ›´æ–°) å¡«å‘</p>
<span id="more"></span>



<p>[toc]</p>
<h4 id="python-ä¸­æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«"><a href="#python-ä¸­æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«" class="headerlink" title="python ä¸­æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«"></a>python ä¸­æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«</h4><p>å…ˆæ·±æ‹·è´å’Œæµ…æ‹·è´éƒ½æ˜¯å¯¹è±¡çš„æ‹·è´ï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥ç›¸åŒçš„å¯¹è±¡ï¼Œä»–ä»¬æœ¬è´¨çš„åŒºåˆ«æ˜¯æ‹·è´å‡ºæ¥çš„å¯¹è±¡çš„åœ°å€æ˜¯å¦å’ŒåŸå¯¹è±¡ä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯<strong>åœ°å€çš„å¤åˆ¶è¿˜æ˜¯å€¼çš„å¤åˆ¶çš„åŒºåˆ«</strong>ã€‚</p>
<p>æ·±æ‹·è´å°±æ˜¯å®Œå…¨è·Ÿä»¥å‰å°±æ²¡æœ‰ä»»ä½•å…³ç³»äº†ï¼ŒåŸæ¥çš„å¯¹è±¡æ€ä¹ˆæ”¹éƒ½ä¸ä¼šå½±å“å½“å‰å¯¹è±¡</p>
<p>æµ…æ‹·è´ï¼ŒåŸå¯¹è±¡çš„listå…ƒç´ æ”¹å˜çš„è¯ä¼šæ”¹å˜å½“å‰å¯¹è±¡ï¼Œå¦‚æœå½“å‰å¯¹è±¡ä¸­listå…ƒç´ æ”¹å˜äº†ï¼Œä¹ŸåŒæ ·ä¼šå½±å“åŸå¯¹è±¡ã€‚</p>
<p> é¦–å…ˆï¼Œæˆ‘ä»¬çŸ¥é“Python3ä¸­ï¼Œæœ‰6ä¸ªæ ‡å‡†çš„æ•°æ®ç±»å‹ï¼Œä»–ä»¬åˆåˆ†ä¸ºå¯ä»¥å˜å’Œä¸å¯å˜ã€‚<br><strong>ä¸å¯å˜ï¼š</strong>Numberï¼ˆæ•°å­—ï¼‰ã€Stringï¼ˆå­—ç¬¦ä¸²ï¼‰ã€Tupleï¼ˆå…ƒç»„ï¼‰ã€‚<br><strong>å¯ä»¥å˜ï¼š</strong>Listï¼ˆåˆ—è¡¨ï¼‰ã€Dictionaryï¼ˆå­—å…¸ï¼‰ã€Setï¼ˆé›†åˆï¼‰ã€‚ </p>
<p>æµ…æ‹·è´å°±æ˜¯è—•æ–­ä¸è¿ æ·±æ‹·è´å°±æ˜¯ç¦»å©šäº†</p>
<p> c=copy.copy(a)#å¯¹è±¡æ‹·è´ï¼Œæµ…æ‹·è´<br>d=copy.deepcopy(a)#å¯¹è±¡æ‹·è´ï¼Œæ·±æ‹·è´ </p>
<h4 id="python-çš„åƒåœ¾å›æ”¶æœºåˆ¶"><a href="#python-çš„åƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="python çš„åƒåœ¾å›æ”¶æœºåˆ¶"></a>python çš„åƒåœ¾å›æ”¶æœºåˆ¶</h4><p> Pythonåƒåœ¾å›æ”¶ä¸»è¦ä»¥å¼•ç”¨è®¡æ•°ä¸ºä¸»ï¼Œåˆ†ä»£å›æ”¶ä¸ºè¾… </p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ä¸€ã€å¼•ç”¨è®¡æ•°</span><br><span class="line">	å¼•ç”¨è®¡æ•°æ³•çš„åŸç†æ˜¯æ¯ä¸ªå¯¹è±¡ç»´æŠ¤ä¸€ä¸ªob_refï¼Œç”¨æ¥è®°å½•å½“å‰å¯¹è±¡è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯æ¥è¿½è¸ªåˆ°åº•æœ‰å¤šå°‘å¼•ç”¨æŒ‡å‘äº†è¿™ä¸ªå¯¹è±¡ï¼Œå½“å‘ç”Ÿä»¥ä¸‹å››ç§æƒ…å†µçš„æ—¶å€™ï¼Œè¯¥å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å™¨+1</span><br><span class="line">å¯¹è±¡è¢«åˆ›å»º â€ƒa=14</span><br><span class="line">å¯¹è±¡è¢«å¼•ç”¨â€ƒ b=a</span><br><span class="line">å¯¹è±¡è¢«ä½œä¸ºå‚æ•°,ä¼ åˆ°å‡½æ•°ä¸­ â€ƒ func(a)</span><br><span class="line">å¯¹è±¡ä½œä¸ºä¸€ä¸ªå…ƒç´ ï¼Œå­˜å‚¨åœ¨å®¹å™¨ä¸­ â€ƒ List=&#123;a,â€aâ€,â€bâ€,2&#125;</span><br><span class="line"></span><br><span class="line">å½“æŒ‡å‘è¯¥å¯¹è±¡çš„å†…å­˜çš„å¼•ç”¨è®¡æ•°å™¨ä¸º0çš„æ—¶å€™ï¼Œè¯¥å†…å­˜å°†ä¼šè¢«Pythonè™šæ‹Ÿæœºé”€æ¯</span><br><span class="line"></span><br><span class="line">å¼•ç”¨è®¡æ•°æ³•æœ‰å¾ˆæ˜æ˜¾çš„ä¼˜ç‚¹ï¼š</span><br><span class="line">    é«˜æ•ˆ</span><br><span class="line">    è¿è¡ŒæœŸæ²¡æœ‰åœé¡¿ï¼Œå®æ—¶æ€§ï¼šä¸€æ—¦æ²¡æœ‰å¼•ç”¨ï¼Œå†…å­˜å°±ç›´æ¥é‡Šæ”¾äº†ã€‚ä¸ç”¨åƒå…¶ä»–æœºåˆ¶ç­‰åˆ°ç‰¹å®šæ—¶æœºã€‚å®æ—¶æ€§è¿˜å¸¦æ¥ä¸€ä¸ªå¥½å¤„ï¼šå¤„ç†å›æ”¶å†…å­˜çš„æ—¶é—´åˆ†æ‘Šåˆ°äº†å¹³æ—¶ã€‚</span><br><span class="line">    å¯¹è±¡æœ‰ç¡®å®šçš„ç”Ÿå‘½å‘¨æœŸ</span><br><span class="line">    æ˜“äºå®ç°</span><br><span class="line">åŸå§‹çš„å¼•ç”¨è®¡æ•°æ³•ä¹Ÿæœ‰æ˜æ˜¾çš„ç¼ºç‚¹ï¼š</span><br><span class="line">	ç»´æŠ¤å¼•ç”¨è®¡æ•°æ¶ˆè€—èµ„æºï¼Œç»´æŠ¤å¼•ç”¨è®¡æ•°çš„æ¬¡æ•°å’Œå¼•ç”¨èµ‹å€¼æˆæ­£æ¯”ï¼Œè€Œä¸åƒmark and sweepç­‰åŸºæœ¬ä¸å›æ”¶çš„å†…å­˜æ•°é‡æœ‰å…³ã€‚</span><br><span class="line">	æ— æ³•è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚</span><br><span class="line">	Aå’ŒBç›¸äº’å¼•ç”¨è€Œå†æ²¡æœ‰å¤–éƒ¨å¼•ç”¨Aä¸Bä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œå®ƒä»¬çš„å¼•ç”¨è®¡æ•°éƒ½ä¸º1ï¼Œä½†æ˜¾ç„¶åº”è¯¥è¢«å›æ”¶ã€‚</span><br></pre></td></tr></table></figure>

 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">äºŒã€åˆ†ä»£å›æ”¶</span><br><span class="line">	åˆ†ä»£å›æ”¶æ˜¯ä¸€ç§ä»¥ç©ºé—´æ¢æ—¶é—´çš„æ“ä½œæ–¹å¼ï¼ŒPythonå°†å†…å­˜æ ¹æ®å¯¹è±¡çš„å­˜æ´»æ—¶é—´åˆ’åˆ†ä¸ºä¸åŒçš„é›†åˆï¼Œæ¯ä¸ªé›†åˆç§°ä¸ºä¸€ä¸ªä»£ï¼ŒPythonå°†å†…å­˜åˆ†ä¸ºäº†3â€œä»£â€ï¼Œåˆ†åˆ«ä¸ºå¹´è½»ä»£ï¼ˆç¬¬0ä»£ï¼‰ã€ä¸­å¹´ä»£ï¼ˆç¬¬1ä»£ï¼‰ã€è€å¹´ä»£ï¼ˆç¬¬2ä»£ï¼‰ï¼Œä»–ä»¬å¯¹åº”çš„æ˜¯3ä¸ªé“¾è¡¨ï¼Œå®ƒä»¬çš„åƒåœ¾æ”¶é›†é¢‘ç‡ä¸å¯¹è±¡çš„å­˜æ´»æ—¶é—´çš„å¢å¤§è€Œå‡å°ã€‚æ–°åˆ›å»ºçš„å¯¹è±¡éƒ½ä¼šåˆ†é…åœ¨å¹´è½»ä»£ï¼Œå¹´è½»ä»£é“¾è¡¨çš„æ€»æ•°è¾¾åˆ°ä¸Šé™æ—¶ï¼ŒPythonåƒåœ¾æ”¶é›†æœºåˆ¶å°±ä¼šè¢«è§¦å‘ï¼ŒæŠŠé‚£äº›å¯ä»¥è¢«å›æ”¶çš„å¯¹è±¡å›æ”¶æ‰ï¼Œè€Œé‚£äº›ä¸ä¼šå›æ”¶çš„å¯¹è±¡å°±ä¼šè¢«ç§»åˆ°ä¸­å¹´ä»£å»ï¼Œä¾æ­¤ç±»æ¨ï¼Œè€å¹´ä»£ä¸­çš„å¯¹è±¡æ˜¯å­˜æ´»æ—¶é—´æœ€ä¹…çš„å¯¹è±¡ï¼Œç”šè‡³æ˜¯å­˜æ´»äºæ•´ä¸ªç³»ç»Ÿçš„ç”Ÿå‘½å‘¨æœŸå†…ã€‚åŒæ—¶ï¼Œåˆ†ä»£å›æ”¶æ˜¯å»ºç«‹åœ¨æ ‡è®°æ¸…é™¤æŠ€æœ¯åŸºç¡€ä¹‹ä¸Šã€‚åˆ†ä»£å›æ”¶åŒæ ·ä½œä¸ºPythonçš„è¾…åŠ©åƒåœ¾æ”¶é›†æŠ€æœ¯å¤„ç†é‚£äº›å®¹å™¨å¯¹è±¡.</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒé“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/xiongchengluo1129/article/details/80462651">https://blog.csdn.net/xiongchengluo1129/article/details/80462651</a> </p>
<h4 id="python-ä¸­çš„å•ä¾‹æ¨¡å¼"><a href="#python-ä¸­çš„å•ä¾‹æ¨¡å¼" class="headerlink" title="python ä¸­çš„å•ä¾‹æ¨¡å¼"></a>python ä¸­çš„å•ä¾‹æ¨¡å¼</h4><p>åˆ†ä¸ºæ‡’æ±‰å¼å’Œé¥¿æ±‰å¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¯¥æ¨¡å¼çš„ä¸»è¦ç›®çš„æ˜¯ç¡®ä¿æŸä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨</span><br></pre></td></tr></table></figure>

<p>é¥¿æ±‰å¼ åœ¨åˆ›å»ºæ—¶å°±ä¼šç”Ÿæˆå®ä¾‹</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># é¥¿æ±‰å¼</span><br><span class="line"><span class="function">class <span class="title">Singleton</span><span class="params">(object)</span>:</span></span><br><span class="line"><span class="function">    # é‡å†™åˆ›å»ºå®ä¾‹çš„__new__æ–¹æ³•</span></span><br><span class="line"><span class="function">    def __new__(cls):</span></span><br><span class="line"><span class="function">        # å¦‚æœç±»æ²¡æœ‰å®ä¾‹å±æ€§ï¼Œè¿›è¡Œå®ä¾‹åŒ–ï¼Œå¦åˆ™è¿”å›å®ä¾‹</span></span><br><span class="line"><span class="function">        if not hasattr(cls, <span class="string">&#x27;instance&#x27;</span>):</span></span><br><span class="line"><span class="function">            cls.instance =</span> <span class="built_in">super</span>(Singleton, cls).__new__(cls)</span><br><span class="line">        <span class="keyword">return</span> cls.instance</span><br></pre></td></tr></table></figure>

<p>æ‡’æ±‰å¼</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># æ‡’æ±‰å¼</span><br><span class="line"><span class="function">class <span class="title">Singleton</span><span class="params">(object)</span>:</span></span><br><span class="line"><span class="function">    __instance =</span> None</span><br><span class="line">    def __init__(self):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.__instance:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;è°ƒç”¨__init__ï¼Œ å®ä¾‹æœªåˆ›å»º&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;è°ƒç”¨__init__ï¼Œå®ä¾‹å·²ç»åˆ›å»ºè¿‡äº†:&#x27;</span>, __instance)</span><br><span class="line"></span><br><span class="line">    @classmethod</span><br><span class="line">    def <span class="built_in">get_instance</span>(cls):</span><br><span class="line">        # è°ƒç”¨get_instanceç±»æ–¹æ³•çš„æ—¶å€™æ‰ä¼šç”ŸæˆSingletonå®ä¾‹</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> cls.__instance:</span><br><span class="line">            cls.__instance = <span class="built_in">Singleton</span>()</span><br><span class="line">        <span class="keyword">return</span> cls.__instance</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">class <span class="title">SingletonByLazy</span><span class="params">(object)</span>:</span></span><br><span class="line"><span class="function">    <span class="string">&quot;&quot;</span><span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="function">    çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼</span></span></span><br><span class="line"><span class="string"><span class="function">    &quot;</span><span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="function">    _instance_lock =</span> threading.<span class="built_in">Lock</span>()</span><br><span class="line"></span><br><span class="line">    @<span class="function">staticmethod</span></span><br><span class="line"><span class="function">    def <span class="title">get_instance</span><span class="params">()</span>:</span></span><br><span class="line"><span class="function">        if not hasattr(SingletonByLazy, <span class="string">&quot;_instance&quot;</span>):</span></span><br><span class="line"><span class="function">            with SingletonByLazy._instance_lock:</span></span><br><span class="line"><span class="function">                if not hasattr(SingletonByLazy, <span class="string">&quot;_instance&quot;</span>):</span></span><br><span class="line"><span class="function">                    SingletonByLazy._instance =</span> <span class="built_in">SingletonByLazy</span>(*args, **kwargs)</span><br><span class="line">        <span class="keyword">return</span> SingletonByLazy._instance</span><br></pre></td></tr></table></figure>



<h4 id="python-__new__-å’Œ-___init___-çš„åŒºåˆ«"><a href="#python-new-å’Œ-init-çš„åŒºåˆ«" class="headerlink" title="python __new__ å’Œ ___init___ çš„åŒºåˆ«"></a>python <code>__new__</code> å’Œ <code>___init___</code> çš„åŒºåˆ«</h4> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">___new__ å’Œ __init__ çš„åŒºåˆ«</span><br><span class="line"><span class="comment">#__init__æ˜¯å½“å®ä¾‹å¯¹è±¡åˆ›å»ºå®Œæˆåè¢«è°ƒç”¨çš„ï¼Œç„¶åè®¾ç½®å¯¹è±¡å±æ€§çš„ä¸€äº›åˆå§‹å€¼,æ˜¯ä¸ªå®ä¾‹æ–¹æ³•ã€‚ã€‚</span></span><br><span class="line"><span class="comment">#__new__æ˜¯åœ¨å®ä¾‹åˆ›å»ºä¹‹å‰è¢«è°ƒç”¨çš„ï¼Œå› ä¸ºå®ƒçš„ä»»åŠ¡å°±æ˜¯åˆ›å»ºå®ä¾‹ç„¶åè¿”å›è¯¥å®ä¾‹ï¼Œæ˜¯ä¸ªé™æ€æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment">#__new__åœ¨__init__ä¹‹å‰è¢«è°ƒç”¨ï¼Œ__new__çš„è¿”å›å€¼ï¼ˆå®ä¾‹ï¼‰å°†ä¼ é€’ç»™__init__æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç„¶å__init__ç»™è¿™ä¸ªå®ä¾‹è®¾ç½®ä¸€äº›å‚æ•°ã€‚</span></span><br><span class="line"></span><br><span class="line">__new__æ–¹æ³•ï¼šç±»çº§åˆ«çš„æ–¹æ³•</span><br><span class="line"><span class="number">1.</span>æ˜¯åœ¨ç±»å‡†å¤‡å°†è‡ªèº«å®ä¾‹åŒ–æ—¶è°ƒç”¨ï¼Œå¹¶ä¸”è‡³å°‘éœ€è¦ä¼ é€’ä¸€ä¸ªå‚æ•°cls,æ­¤å‚æ•°åœ¨å®ä¾‹åŒ–æ—¶ç”±pythonè§£é‡Šå™¨è‡ªåŠ¨æä¾›ï¼›</span><br><span class="line"><span class="number">2.</span>å§‹ç»ˆæ˜¯ç±»çš„é™æ€æ–¹æ³•ï¼Œå³ä½¿æ²¡æœ‰è¢«åŠ ä¸Šé™æ€æ–¹æ³•è£…é¥°å™¨ï¼›</span><br><span class="line"><span class="number">3.</span>å¿…é¡»è¦æœ‰è¿”å›å€¼ï¼Œè¿”å›å®ä¾‹åŒ–å‡ºæ¥çš„å®ä¾‹ï¼›åœ¨è‡ªå·±å®ç°__new__()æ—¶éœ€è¦æ³¨æ„ï¼šå¯ä»¥<span class="keyword">return</span>çˆ¶ç±»ï¼ˆé€šè¿‡<span class="built_in">super</span>(å½“å‰ç±»åï¼Œcls)ï¼‰.__new__å‡ºæ¥çš„å®ä¾‹</span><br><span class="line"></span><br><span class="line">__init__æ–¹æ³•ï¼šå®ä¾‹çº§åˆ«çš„æ–¹æ³•</span><br><span class="line"><span class="number">1.</span>æœ‰ä¸€ä¸ªå‚æ•°self,è¯¥selfå‚æ•°å°±æ˜¯__new__()è¿”å›çš„å®ä¾‹ï¼›</span><br><span class="line"><span class="number">2.</span>__init__()åœ¨__new()çš„åŸºç¡€ä¸Šå®Œæˆåˆå§‹åŒ–åŠ¨ä½œï¼Œä¸éœ€è¦è¿”å›å€¼ï¼›</span><br><span class="line"><span class="number">3.</span>è‹¥__new__()æ²¡æœ‰æ­£ç¡®è¿”å›å½“å‰ç±»clsçš„å®ä¾‹ï¼Œé‚£__init__()å°†ä¸ä¼šè¢«è°ƒç”¨</span><br><span class="line"><span class="number">4.</span>åˆ›å»ºçš„æ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±çš„å±æ€§ï¼Œæ–¹ä¾¿ç±»ä¸­çš„å®ä¾‹æ–¹æ³•è°ƒç”¨ï¼›</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__new__</span>(<span class="params">cls</span>):</span></span><br><span class="line">        <span class="built_in">print</span> (<span class="string">&quot;__new__æ–¹æ³•è¢«æ‰§è¡Œ&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>(B,cls).__new__(cls)</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span> (<span class="string">&quot;__init__æ–¹æ³•è¢«æ‰§è¡Œ&quot;</span>)</span><br><span class="line"> </span><br><span class="line">b=B()</span><br><span class="line">ç»“æœï¼š</span><br><span class="line">__new__æ–¹æ³•è¢«æ‰§è¡Œ</span><br><span class="line">__init__æ–¹æ³•è¢«æ‰§è¡Œ</span><br></pre></td></tr></table></figure>



<h4 id="python-ä¸­çš„è£…é¥°å™¨è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"><a href="#python-ä¸­çš„è£…é¥°å™¨ï¼Œè¿­ä»£å™¨ä¸ç”Ÿæˆå™¨" class="headerlink" title="python ä¸­çš„è£…é¥°å™¨ï¼Œè¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"></a>python ä¸­çš„è£…é¥°å™¨ï¼Œè¿­ä»£å™¨ä¸ç”Ÿæˆå™¨</h4><p>è£…é¥°å™¨:    pythonè£…é¥°å™¨å°±æ˜¯ç”¨äº<strong>æ‹“å±•åŸæ¥å‡½æ•°åŠŸèƒ½çš„ä¸€ç§å‡½æ•°</strong>ï¼Œè¿™ä¸ªå‡½æ•°çš„ç‰¹æ®Šä¹‹å¤„åœ¨äºå®ƒçš„è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½¿ç”¨pythonè£…é¥°å™¨çš„å¥½å¤„å°±æ˜¯åœ¨ä¸ç”¨æ›´æ”¹åŸå‡½æ•°çš„ä»£ç å‰æä¸‹ç»™å‡½æ•°å¢åŠ æ–°çš„åŠŸèƒ½</p>
<p><strong>è£…é¥°å™¨çš„ä½œç”¨å°±æ˜¯ä¸ºå·²ç»å­˜åœ¨çš„å‡½æ•°æˆ–å¯¹è±¡æ·»åŠ é¢å¤–çš„åŠŸèƒ½</strong> ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ—¢ä¸éœ€è¦ä¾µå…¥ï¼Œä¹Ÿä¸éœ€è¦å‡½æ•°é‡å¤æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deco</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span></span><br><span class="line">        startTime = time.time()</span><br><span class="line">        func()</span><br><span class="line">        endTime = time.time()</span><br><span class="line">        msecs = (endTime - startTime)*<span class="number">1000</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;time is %d ms&quot;</span> %msecs)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@deco</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;world&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    f = func <span class="comment">#è¿™é‡Œfè¢«èµ‹å€¼ä¸ºfuncï¼Œæ‰§è¡Œf()å°±æ˜¯æ‰§è¡Œfunc()</span></span><br><span class="line">    f()</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hello</span><br><span class="line">world</span><br><span class="line">time is 1001 ms</span><br></pre></td></tr></table></figure>

<p>è¿­ä»£å™¨:</p>
<p>æŠŠä¸€ä¸ªç±»ä½œä¸ºä¸€ä¸ªè¿­ä»£å™¨ä½¿ç”¨éœ€è¦åœ¨ç±»ä¸­å®ç°ä¸¤ä¸ªæ–¹æ³• <strong>iter</strong>() å’Œ <strong>next</strong>() </p>
<p><img src="/2021/12/21/%E7%AC%AC%E5%9B%9B%E7%AF%87%E7%AB%A0-python%E7%AC%94%E8%AE%B0/%E8%BF%AD%E4%BB%A3%E5%99%A8.png" alt="image-20211222204325430"></p>
<p>ç”Ÿæˆå™¨: </p>
<p>ç”Ÿæˆå™¨æ˜¯åˆ›å»ºè¿­ä»£å™¨çš„ä¸€ç§ç®€ä¾¿çš„æ–¹æ³•ã€‚ç”Ÿæˆå™¨æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ã€‚</p>
<p>Pythonçš„yieldå…³é”®å­—çš„å”¯ä¸€ä½œç”¨ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªæ™®é€šçš„å‡½æ•°å˜æˆç”Ÿæˆå™¨ã€‚å½“ä¸€ä¸ªå‡½æ•°å†…å‡ºç°yieldå…³é”®å­—åï¼Œå°±ä¼šå˜å¼‚ä¸ºç”Ÿæˆå™¨ï¼Œå…¶è¡Œä¸ºä¸æ™®é€šå‡½æ•°ä¸åŒã€‚</p>
<p><img src="/2021/12/21/%E7%AC%AC%E5%9B%9B%E7%AF%87%E7%AB%A0-python%E7%AC%94%E8%AE%B0/%E7%94%9F%E6%88%90%E5%99%A81.png" alt="image-20211222204740377"></p>
<p><img src="/2021/12/21/%E7%AC%AC%E5%9B%9B%E7%AF%87%E7%AB%A0-python%E7%AC%94%E8%AE%B0/%E7%94%9F%E6%88%90%E5%99%A82.png" alt="image-20211222204802117"></p>
<p>å‚è€ƒé“¾æ¥:<a target="_blank" rel="noopener" href="https://blog.csdn.net/xiangxianghehe/article/details/77170585">https://blog.csdn.net/xiangxianghehe/article/details/77170585</a></p>
<p>â€‹                <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/20829330">https://www.zhihu.com/question/20829330</a></p>
<h4 id="python-ä¸­çš„å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹"><a href="#python-ä¸­çš„å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹" class="headerlink" title="python ä¸­çš„å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹"></a>python ä¸­çš„å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹</h4><p>å…³äºè¿›ç¨‹å’Œçº¿ç¨‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåˆ†é…èµ„æºçš„æœ€å°å•å…ƒ, çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿè°ƒåº¦çš„æœ€å°å•å…ƒã€‚</span><br><span class="line">ä¸€ä¸ªåº”ç”¨ç¨‹åºè‡³å°‘åŒ…æ‹¬1ä¸ªè¿›ç¨‹ï¼Œè€Œ1ä¸ªè¿›ç¨‹åŒ…æ‹¬1ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹çš„å°ºåº¦æ›´å°ã€‚</span><br><span class="line">æ¯ä¸ªè¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜å•å…ƒï¼Œè€Œä¸€ä¸ªçº¿ç¨‹çš„å¤šä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å…±äº«å†…å­˜ã€‚</span><br></pre></td></tr></table></figure>

<p>pythonä¸­çš„å¤šè¿›ç¨‹ <strong>multiprocess</strong>æ¨¡å—</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line">p1 = Process(target=long_time_task, args=(<span class="number">1</span>,))</span><br><span class="line">p2 = Process(target=long_time_task, args=(<span class="number">2</span>,))</span><br><span class="line">p1.start()</span><br><span class="line">p2.start()</span><br><span class="line">p1.join()</span><br><span class="line">p2.join()</span><br></pre></td></tr></table></figure>

<p><strong>åˆ©ç”¨multiprocessæ¨¡å—çš„Poolç±»åˆ›å»ºå¤šè¿›ç¨‹</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool, cpu_count</span><br><span class="line">p = Pool(<span class="number">4</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">    p.apply_async(long_time_task, args=(i,))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ç­‰å¾…æ‰€æœ‰å­è¿›ç¨‹å®Œæˆã€‚&#x27;</span>)</span><br><span class="line">p.close()</span><br><span class="line">p.join()</span><br></pre></td></tr></table></figure>

<p>pid = os.fork() åˆ›å»ºæ–°çš„è¿›ç¨‹</p>
<p>å­è¿›ç¨‹ä¼šå¤åˆ¶çˆ¶è¿›ç¨‹å…¨éƒ¨å†…å­˜ç©ºé—´ï¼Œä»forkä¸‹ä¸€å¥å¼€å§‹æ‰§è¡Œã€‚</p>
<p>çˆ¶å­è¿›ç¨‹å„è‡ªç‹¬ç«‹è¿è¡Œï¼Œè¿è¡Œé¡ºåºä¸ä¸€å®š</p>
<p>å¤šçº¿ç¨‹æ¨¡å— <strong>threading</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line">t1 = threading.Thread(target=long_time_task, args=(<span class="number">1</span>,))</span><br><span class="line">t2 = threading.Thread(target=long_time_task, args=(<span class="number">2</span>,))</span><br><span class="line">t1.start()</span><br><span class="line">t2.start()</span><br></pre></td></tr></table></figure>

<p>ç”±äºGIL çš„å­˜åœ¨ ä¼ªå¤šçº¿ç¨‹ GIL Global Interpreter Lock(å…¨å±€è§£é‡Šå™¨é”) GILåªåœ¨cpythonä¸­æ‰æœ‰ï¼Œå› ä¸ºcpythonè°ƒç”¨çš„æ˜¯cè¯­è¨€çš„åŸç”Ÿçº¿ç¨‹ï¼Œæ‰€ä»¥ä»–ä¸èƒ½ç›´æ¥æ“ä½œcpuï¼Œåªèƒ½åˆ©ç”¨GILä¿è¯åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‹¿åˆ°æ•°æ®ã€‚è€Œåœ¨pypyå’Œjpythonä¸­æ˜¯æ²¡æœ‰GILçš„ã€‚</p>
<h4 id="python-å†…å­˜æ± "><a href="#python-å†…å­˜æ± " class="headerlink" title="python å†…å­˜æ± "></a>python å†…å­˜æ± </h4><p>å†…å­˜æ± æœºåˆ¶</p>
<p>Pythonä¸­æœ‰åˆ†ä¸ºå¤§å†…å­˜å’Œå°å†…å­˜ï¼šï¼ˆ256Kä¸ºç•Œé™åˆ†å¤§å°å†…å­˜ï¼‰</p>
<p>1ã€å¤§å†…å­˜ä½¿ç”¨mallocè¿›è¡Œåˆ†é…</p>
<p>2ã€å°å†…å­˜ä½¿ç”¨å†…å­˜æ± è¿›è¡Œåˆ†é…</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬3å±‚ï¼šæœ€ä¸Šå±‚ï¼Œç”¨æˆ·å¯¹Pythonå¯¹è±¡çš„ç›´æ¥æ“ä½œ</span><br><span class="line"></span><br><span class="line">ç¬¬1å±‚å’Œç¬¬2å±‚ï¼šå†…å­˜æ± ï¼Œæœ‰Pythonçš„æ¥å£å‡½æ•°PyMem_Mallocå®ç°-----è‹¥è¯·æ±‚åˆ†é…çš„å†…å­˜åœ¨1~256å­—èŠ‚ä¹‹é—´å°±ä½¿ç”¨å†…å­˜æ± ç®¡ç†ç³»ç»Ÿè¿›è¡Œåˆ†é…ï¼Œè°ƒç”¨mallocå‡½æ•°åˆ†é…å†…å­˜ï¼Œä½†æ˜¯æ¯æ¬¡åªä¼šåˆ†é…ä¸€å—å¤§å°ä¸º256Kçš„å¤§å—å†…å­˜ï¼Œä¸ä¼šè°ƒç”¨freeå‡½æ•°é‡Šæ”¾å†…å­˜ï¼Œå°†è¯¥å†…å­˜å—ç•™åœ¨å†…å­˜æ± ä¸­ä»¥ä¾¿ä¸‹æ¬¡ä½¿ç”¨ã€‚</span><br><span class="line"></span><br><span class="line">ç¬¬0å±‚ï¼šå¤§å†…å­˜-----è‹¥è¯·æ±‚åˆ†é…çš„å†…å­˜å¤§äº256Kï¼Œmallocå‡½æ•°åˆ†é…å†…å­˜ï¼Œfreeå‡½æ•°é‡Šæ”¾å†…å­˜ã€‚</span><br><span class="line"></span><br><span class="line">ç¬¬-1ï¼Œ-2å±‚ï¼šæ“ä½œç³»ç»Ÿè¿›è¡Œæ“ä½œ</span><br></pre></td></tr></table></figure>



<h4 id="python-ç»å…¸ä¹¦ç±"><a href="#python-ç»å…¸ä¹¦ç±" class="headerlink" title="python ç»å…¸ä¹¦ç±"></a>python ç»å…¸ä¹¦ç±</h4><ul>
<li><p>Effective python</p>
</li>
<li><p>ç¼–å†™é«˜è´¨é‡ä»£ç python91å»ºè®®</p>
</li>
<li><p>æµç•…çš„python</p>
</li>
</ul>
<p><img src="/2021/12/21/%E7%AC%AC%E5%9B%9B%E7%AF%87%E7%AB%A0-python%E7%AC%94%E8%AE%B0/%E6%94%B6%E8%97%8F.png" alt="æ”¶è—"></p>

    </div>

	<div>
		
			<div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------æœ¬æ–‡ç»“æŸ<i class="fa fa-paw"></i>æ„Ÿè°¢æ‚¨çš„é˜…è¯»-------------</div>
    
</div>
		
	</div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/python/" rel="tag"><i class="fa fa-tag"></i> python</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/12/21/%E5%8D%9A%E5%AE%A2%E6%80%BB%E8%A7%88-origin-star/" rel="prev" title="åšå®¢æ€»è§ˆ-origin_star">
                  <i class="fa fa-chevron-left"></i> åšå®¢æ€»è§ˆ-origin_star
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/12/21/%E7%AC%AC%E4%BA%94%E7%AF%87%E7%AB%A0-%E5%BA%8F%E5%88%97%E6%8E%A8%E8%8D%90%E6%80%BB%E7%BB%93/" rel="next" title="ç¬¬äº”ç¯‡ç« -åºåˆ—æ¨èæ€»ç»“">
                  ç¬¬äº”ç¯‡ç« -åºåˆ—æ¨èæ€»ç»“ <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">xingyuan</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">52k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">47 åˆ†é’Ÿ</span>
  </span>
</div>


    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  





  


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"pxg5KkG9ObdgHpCWmUIno5TL-gzGzoHsz","app_key":"5g4mEHontJ2nolhwNzVAndk0","server_url":null,"security":false,"betterPerformance":true}</script>
  <script src="/js/third-party/statistics/lean-analytics.js"></script>


<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: 'ğŸŒ“',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body>
</html>
